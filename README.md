# Real estate price prediction

This project trains regression models to predict real-estate listing prices from structured listing data, with optional geocoding to add location-based features.

## Project structure

- `data/raw/`  
  Input CSV(s). Put your main dataset at `data/raw/listings.csv`.

- `data/processed/`  
  Cleaned dataset with engineered features (created by training).

- `data/geo_cache/`  
  Geocoding cache for faster reruns.

- `models/`  
  Saved trained pipelines (`*.joblib`).

- `reports/`  
  Metrics and plots generated by EDA/training.

## Setup (Windows, PowerShell)

1. Open PowerShell in the project root:
   `C:\Users\milin\Desktop\siap_real_estate_price_prediction`

2. Create and activate a virtual environment:
py -m venv .venv
..venv\Scripts\Activate.ps1


3. Install dependencies:
pip install -r requirements.txt


4. Create output folders (if they do not exist):
mkdir models
mkdir reports


## Data

Place your dataset here:
- `data/raw/listings.csv`

Expected columns (as used by the pipeline):
- `price_eur` (target)
- `area_m2`
- `rooms`
- `floor`
- `state`
- `heating`
- `lift`
- `parking`
- `optical_internet`
- `street`

If your scraped dataset uses different names (for example `Price_EUR` or `Square_footage`), rename columns before training or update the cleaning step to standardize them.

## EDA

Run: py run_eda.py --input .\data\raw\listings.csv


Outputs in `reports/`:
- `eda_summary.json`
- `eda_*.png`

## Train (GEO enabled by default)

Run training with geocoding: py run_train.py --input .\data\raw\listings.csv


Skip geocoding: py run_train.py --input .\data\raw\listings.csv --no-geo


Outputs:
- `data/processed/cleaned_with_features.csv`
- `models/rf_pipeline.joblib`
- `models/xgb_pipeline.joblib`
- `reports/metrics.json`
- `reports/importance_*.png`
- `reports/shap_summary_xgb.png`
- `reports/actual_vs_pred_xgb.png`
- `reports/residuals_xgb.png`

Notes:
- Geocoding results are cached in `data/geo_cache/` to speed up subsequent runs.
- On Windows, you might see joblib cleanup warnings after training; a successful run prints `Training done.`.

## Predict

1. Prepare an input CSV with the same feature columns as the training data (no `price_eur` column).
2. Run: py run_predict.py --input .\data\raw\new_listings.csv

Select a specific model: py run_predict.py --model .\models\xgb_pipeline.joblib --input .\data\raw\new_listings.csv


Skip geocoding: py run_predict.py --input .\data\raw\new_listings.csv --no-geo


## Artifacts to commit vs ignore

Recommended:
- Commit: source code, scripts, `requirements.txt`, README
- Ignore: `.venv/`, `data/raw/`, `data/processed/`, `data/geo_cache/`, `models/`, `reports/`